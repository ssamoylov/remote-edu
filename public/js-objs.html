<html>
<body>

<script type="text/javascript" src="/js/jquery-1.3.2.min.js"></script>

<pre>
<script type="text/javascript">
    $.ready(start());

    function newClass(parent, child) {

        var new_class = function() {
            if (new_class.__defining_class__) {
                return delete new_class.__defining_class__;
            }

            if (new_class.__constructor__) {
                this.constructor = new_class;
                new_class.__constructor__.apply(this, arguments);
            }

            this.__name__ = new_class.__name__;
        }

        new_class.prototype = {};

        if (parent) {
            parent.__defining_class__ = true;

            new_class.prototype = new parent();
            new_class.prototype.constructor = parent;
            new_class.__constructor__ = parent;
        }

        var constr_name = 'constructor';

        if (child)
        {
            for (var prop in child) {
                if (prop != constr_name)
                    new_class.prototype[prop] = child[prop];
            }

            if (child[constr_name] && Object != child[constr_name]) {
                new_class.__constructor__ = child[constr_name];
            }
        }

        return new_class;
    }

    function start() {
        Car = newClass(null, {
          __name__: 'Car',

          constructor: function() {
            document.writeln("Вызван конструктор Car().");
          },

          drive: function() {
            document.writeln("Вызван Car.drive()");
          }
        });

        Zaporojets = newClass(Car, {
          __name__: 'Zaporojets',

          constructor: function() {
            document.writeln("Вызван конструктор Zaporojets().");
            this.constructor.prototype.constructor.call(this);
          },

          crack: function() {
            document.writeln("Вызван Zaporojets.crack()");
          },

          drive: function() {
            document.writeln("Вызван Zaporojets.drive()");
            return this.constructor.prototype.drive.call(this);
          }
        });

        document.writeln("Программа запущена.");

        // Создаем объект производного "класса".
        var vehicle = new Zaporojets();
        vehicle.drive(); // вызывается функция базового объекта

        // Создаем еще один объект того же класса.
        var vehicle = new Zaporojets();
        vehicle.crack(); // функция производного объекта
    }
</script>

</pre>

</body>
</html>